// === üåü ANIMATIONS.JS ‚Äî –æ–±—â–∏–π —Ñ–∞–π–ª —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –¥–ª—è –≤—Å–µ—Ö —Ç–µ–º English with AI Bayan ===

// ‚úÖ / ‚ùå –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
function showResultAnimation(isCorrect, elementId) {
  const el = document.getElementById(elementId);
  if (!el) return;

  if (isCorrect) {
    el.innerHTML = "‚úÖ Correct! ‚≠ê";
    el.style.background = "rgba(144,238,144,0.6)";
    el.style.border = "2px solid green";
    el.style.borderRadius = "10px";
    el.style.transition = "0.4s";
    el.style.padding = "5px";
    sparkleStars();
    setTimeout(() => {
      el.style.background = "";
      el.style.border = "";
      el.innerHTML = "";
    }, 1500);
  } else {
    el.innerHTML = "‚ùå Try again!";
    el.style.background = "rgba(255,182,193,0.6)";
    el.style.border = "2px solid red";
    el.style.borderRadius = "10px";
    el.style.transition = "0.4s";
    el.style.padding = "5px";
    navigator.vibrate?.(250);
    setTimeout(() => {
      el.style.background = "";
      el.style.border = "";
      el.innerHTML = "";
    }, 1500);
  }
}

// üåü –í—Å–ø—ã—à–∫–∞ –∑–≤–µ–∑–¥—ã –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –æ—Ç–≤–µ—Ç–µ
function sparkleStars(x = window.innerWidth / 2, y = window.innerHeight / 2) {
  const star = document.createElement("div");
  star.textContent = "‚≠ê";
  star.style.position = "fixed";
  star.style.left = `${x}px`;
  star.style.top = `${y}px`;
  star.style.fontSize = "1.8rem";
  star.style.opacity = "1";
  star.style.transition = "all 1.2s ease-out";
  star.style.pointerEvents = "none";
  document.body.appendChild(star);
  setTimeout(() => {
    star.style.top = `${y - 80}px`;
    star.style.opacity = "0";
  }, 50);
  setTimeout(() => star.remove(), 1300);
}

// üó£Ô∏è –ì–æ–ª–æ—Å AI Bayan (–º—è–≥–∫–∏–π, –±—Ä–∏—Ç–∞–Ω—Å–∫–∏–π)
function bayanSpeak(text) {
  if (!("speechSynthesis" in window)) {
    alert("Your browser does not support speech synthesis üòî");
    return;
  }
  const voices = speechSynthesis.getVoices();
  let voice =
    voices.find(
      (v) =>
        (v.name.toLowerCase().includes("female") ||
          v.name.toLowerCase().includes("uk")) &&
        v.lang.includes("en-GB")
    ) || voices.find((v) => v.lang.includes("en"));
  const utter = new SpeechSynthesisUtterance(text);
  utter.voice = voice;
  utter.lang = "en-GB";
  utter.rate = 0.9;  // —Å—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å
  utter.pitch = 1.0; // –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–æ–Ω
  utter.volume = 1;
  speechSynthesis.speak(utter);
}

// ‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ—á–∏
function stopBayan() {
  window.speechSynthesis.cancel();
}
